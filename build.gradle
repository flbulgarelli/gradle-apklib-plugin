import org.ajoberstar.gradle.git.tasks.*

def apkLibs = [lib1: 'https://github.com/ajoberstar/gradle-git.git'] 
def apkLibsDir = "apklibs"

//TODO 
task cleanApkLibs << {

}

//Step 1: download sources
tasks.addRule("Pattern: downloadApkLibs") { 
   apkLibs.each { name, url ->
    task("downloadApkLib$name", type: GitClone) {
        def destination = file("./$apkLibsDir/$name")
        uri = url
        destinationPath = destination
        bare = false
        enabled = !destination.exists() 
    }
   }
}


//step 2: add to .gitignore?
task << ignoreApkLibs

//Step 3: Create .gradle for each one
task createApkLibGradles(dependsOn: downloadApkLibs) << {

}

//Step 4?: dd dependencies


buildscript {
  repositories { mavenCentral() }
  dependencies { classpath 'org.ajoberstar:gradle-git:0.2.3' }
}

 
